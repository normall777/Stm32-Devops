# Motion - трансляция видео с веб-камеры

Docker-образ с установленным пакетом motion, с помощью которого производится трансляция видео.

## Сборка образа

Для сборки введите команду
```
docker build -t <registry url>:motion .
```

## Загрузка образа в GitLab Container Registry

```
docker login registry.gitlab.com
docker push <registry url>:motion
```

## Использование образа 

Образ используется в файле docker-compose-stand.yml, который находится в папке **stm32-devops (gitlab)**, совместно с образом для программирования 
микроконтроллера st-flash.
Видео транслируется на порт 8081. Изменить конфигурацию программы motion можно отредактировав файлы в папке **config**. 
- Файл **motion.conf** пробрасывается в контейнер по пути */etc/motion/motion.conf*, основная настройка параметров передачи видео с камеры производится в данном файле.
- Файл **motion** пробрасывается в контейнер по пути */etc/default/motion*, используется для установки запуска motion в качестве процесса.

Для запуска необходимо ввести:
```
docker-compose --file docker-compose-stand.yml up
```
